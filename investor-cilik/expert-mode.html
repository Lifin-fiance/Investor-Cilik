<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Investor Cilik - Mode Ahli</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #131722;
            color: #D1D4DC;
        }
        .trading-panel {
            background-color: #1E222D;
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.05);
            transition: all 0.3s ease;
        }
        .btn-green {
            background-image: linear-gradient(to bottom, #26A69A, #1E8278);
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            transition: all 0.2s ease-in-out;
        }
        .btn-green:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(38, 166, 154, 0.4);
        }
        .btn-red {
            background-image: linear-gradient(to bottom, #EF5350, #D3423F);
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            transition: all 0.2s ease-in-out;
        }
        .btn-red:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(239, 83, 80, 0.4);
        }
        .stock-item {
            transition: background-color 0.2s ease;
        }
        .stock-item.active {
            background-color: #2A2D38;
        }
        .price-up {
            color: #26A69A;
        }
        .price-down {
            color: #EF5350;
        }
        
        /* --- Modal & Tutorial Styles --- */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 998;
            display: none;
        }
        .modal-content {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: #374151;
            color: #fff;
            padding: 2rem;
            border-radius: 8px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            z-index: 1001;
            border: 1px solid #6b7280;
        }
        #tutorial-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 999;
            display: none;
        }
        .tutorial-tooltip {
            position: absolute;
            background-color: #374151;
            color: #fff;
            padding: 1.25rem;
            border-radius: 8px;
            width: 320px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            z-index: 1001;
            border: 1px solid #6b7280;
        }
        .tutorial-highlight {
            position: absolute;
            z-index: 1000;
            box-shadow: 0 0 0 9999px rgba(0, 0, 0, 0.8);
            border-radius: 8px;
            pointer-events: none;
        }
    </style>
</head>
<body class="p-4 lg:p-6">

    <div class="container mx-auto max-w-7xl">
        <!-- Header -->
        <header id="header-panel" class="flex justify-between items-center mb-4">
            <div class="flex items-center gap-4">
                <h1 class="text-2xl font-bold text-white">Mode Ahli</h1>
                <button id="help-button" class="w-8 h-8 bg-gray-700 text-white rounded-full flex items-center justify-center hover:bg-gray-600 transition">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                      <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd" />
                    </svg>
                </button>
            </div>
            <div class="trading-panel p-3 flex space-x-6 text-sm">
                <div>
                    <span class="font-medium text-gray-400">Uang Tunai:</span>
                    <span id="cash-value" class="font-bold text-white">Rp 10.000.000</span>
                </div>
                <div>
                    <span class="font-medium text-gray-400">Nilai Portofolio:</span>
                    <span id="portfolio-value" class="font-bold text-white">Rp 0</span>
                </div>
                <div>
                    <span class="font-medium text-gray-400">Total Aset:</span>
                    <span id="total-assets" class="font-bold text-white">Rp 10.000.000</span>
                </div>
                 <div>
                    <span class="font-medium text-gray-400">Putaran (Minggu):</span>
                    <span id="turn-counter" class="font-bold text-white">0</span>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <div class="flex flex-col lg:flex-row gap-4">

            <!-- Chart and Trading Controls -->
            <main class="w-full lg:w-3/4 flex flex-col gap-4">
                <div id="chart-panel" class="trading-panel p-4 h-[400px] md:h-[500px] flex flex-col">
                    <div id="chart-header" class="flex items-center mb-2 flex-shrink-0">
                        <h2 id="chart-stock-name" class="text-xl font-bold">Pilih Saham</h2>
                        <span id="chart-stock-price" class="ml-4 text-lg font-semibold"></span>
                    </div>
                    <div id="candlestick-chart" class="flex-grow h-full"></div>
                </div>
                <div id="trade-controls-panel" class="trading-panel p-4">
                     <div class="flex items-center justify-between">
                        <div class="w-2/5">
                            <label for="trade-amount" class="text-xs text-gray-400">Jumlah Lot (1 Lot = 100 Lembar)</label>
                            <input type="number" id="trade-amount" value="1" min="1" class="w-full bg-[#2A2D38] text-white p-2 rounded-md border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div class="flex gap-4">
                            <button id="buy-button" class="btn-green text-white font-bold py-3 px-10 rounded-md">BELI</button>
                            <button id="sell-button" class="btn-red text-white font-bold py-3 px-10 rounded-md">JUAL</button>
                        </div>
                        <button id="next-turn-button" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-10 rounded-md transition">Putaran Berikutnya &raquo;</button>
                    </div>
                </div>
            </main>

            <!-- Stock List and News -->
            <aside class="w-full lg:w-1/4 flex flex-col gap-4">
                <div id="stock-list-panel" class="trading-panel p-4">
                    <h3 class="font-bold mb-2">Daftar Saham</h3>
                    <div id="stock-list" class="space-y-2 max-h-[250px] overflow-y-auto">
                        <!-- Stock items will be injected here by JS -->
                    </div>
                </div>
                <div id="news-panel" class="trading-panel p-4">
                    <h3 class="font-bold mb-2">Berita Pasar</h3>
                    <div id="news-feed" class="space-y-2 text-xs max-h-[200px] overflow-y-auto">
                        <p class="text-gray-400">Selamat datang di pasar saham!</p>
                    </div>
                </div>
            </aside>

        </div>
    </div>
    
    <!-- Info Modal -->
    <div id="info-modal" class="modal-overlay">
        <div class="modal-content">
            <h2 class="text-2xl font-bold mb-4">Apa itu Saham? ðŸ¤”</h2>
            <p class="mb-6 text-gray-300">
                Bayangkan sebuah perusahaan besar itu seperti kue. Saham adalah potongan-potongan super kecil dari kue tersebut.
                <br><br>
                Saat kamu membeli saham, kamu sebenarnya membeli sebagian kecil kepemilikan di perusahaan itu. Jika perusahaan untung dan berkembang, nilai potongan kuemu (saham) bisa ikut naik!
            </p>
            <div class="flex justify-end gap-4">
                <button id="start-tour-button" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md">Mulai Tur Interaktif</button>
                <button id="close-modal-button" class="bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded-md">Tutup</button>
            </div>
        </div>
    </div>

    <!-- Tutorial Elements -->
    <div id="tutorial-overlay">
        <div id="tutorial-highlight" class="tutorial-highlight"></div>
        <div id="tutorial-tooltip" class="tutorial-tooltip">
            <h4 id="tutorial-title" class="text-lg font-bold mb-2"></h4>
            <p id="tutorial-text" class="text-sm mb-4"></p>
            <div class="flex justify-between items-center">
                <button id="tutorial-skip" class="text-xs text-gray-400 hover:text-white">Lewati</button>
                <div>
                    <button id="tutorial-prev" class="bg-gray-600 hover:bg-gray-700 text-white font-bold py-1 px-3 rounded-md text-sm">&laquo; Kembali</button>
                    <button id="tutorial-next" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-1 px-4 rounded-md text-sm">Lanjut &raquo;</button>
                </div>
            </div>
        </div>
    </div>


    <script>
    // --- GAME STATE & CONFIGURATION ---
    const gameState = {
        cash: 10000000,
        portfolio: {}, // e.g. { 'FOOD': { shares: 100, avgPrice: 1000 } }
        turn: 0,
        knowledgeLevel: 2, // Start at level 2 for expert mode
    };

    // --- STOCK & NEWS DATA ---
    let stocks = [
        {
            code: 'FOOD', name: 'PT Makanan Sejahtera', sector: 'Consumer',
            price: 1000, history: [], volatility: 0.03,
            revenueTrend: 'up', peRatio: 'low'
        },
        {
            code: 'TECH', name: 'PT Teknologi Canggih', sector: 'Technology',
            price: 3500, history: [], volatility: 0.07,
            revenueTrend: 'up', peRatio: 'high'
        },
        {
            code: 'AUTO', name: 'PT Otomotif Cepat', sector: 'Automotive',
            price: 2200, history: [], volatility: 0.05,
            revenueTrend: 'stable', peRatio: 'medium'
        },
        {
            code: 'BANK', name: 'Bank Rakyat Bersama', sector: 'Finance',
            price: 5100, history: [], volatility: 0.02,
            revenueTrend: 'stable', peRatio: 'medium'
        },
        {
            code: 'ENRG', name: 'PT Energi Terbarukan', sector: 'Energy',
            price: 850, history: [], volatility: 0.06,
            revenueTrend: 'down', peRatio: 'low'
        }
    ];

    const newsEvents = [
        { text: "{stock} meluncurkan produk baru yang viral!", type: 'specific', effect: 0.15, target: null },
        { text: "Gangguan produksi di pabrik {stock}.", type: 'specific', effect: -0.20, target: null },
        { text: "Pemerintah memberikan subsidi untuk sektor {sector}!", type: 'sector', effect: 0.10, target: null },
        { text: "Regulasi baru membebani sektor {sector}.", type: 'sector', effect: -0.08, target: null },
        { text: "Suku bunga bank sentral naik, pasar sedikit melemah.", type: 'market', effect: -0.03, target: null },
        { text: "Data ekonomi positif, investor optimis.", type: 'market', effect: 0.04, target: null },
    ];

    let activeStockCode = null;

    // --- CHART INITIALIZATION ---
    const chartOptions = {
        series: [{ data: [] }],
        chart: {
            type: 'candlestick',
            height: '100%',
            background: 'transparent',
            toolbar: { show: false }
        },
        theme: { mode: 'dark' },
        xaxis: {
            type: 'category',
            labels: { style: { colors: '#8A92A2' } }
        },
        yaxis: {
            tooltip: { enabled: true },
            labels: {
                style: { colors: '#8A92A2' },
                formatter: (val) => `Rp ${val.toLocaleString('id-ID')}`
            }
        },
        grid: {
            borderColor: '#373A46',
            xaxis: { lines: { show: true } },
            yaxis: { lines: { show: true } }
        },
        plotOptions: {
            candlestick: {
                colors: {
                    upward: '#26A69A',
                    downward: '#EF5350'
                }
            }
        }
    };
    const chart = new ApexCharts(document.querySelector("#candlestick-chart"), chartOptions);
    chart.render();


    // --- CORE GAME LOGIC (No changes here, functions are the same) ---
    function updateMarket() {
        let newsHappened = false;
        const newsChance = 0.4;
        if (Math.random() < newsChance) {
            const event = { ...newsEvents[Math.floor(Math.random() * newsEvents.length)] };
            let affectedStocks = [];
            if (event.type === 'market') {
                affectedStocks = stocks;
                event.target = 'Pasar';
            } else if (event.type === 'sector') {
                const randomStock = stocks[Math.floor(Math.random() * stocks.length)];
                event.target = randomStock.sector;
                affectedStocks = stocks.filter(s => s.sector === event.target);
            } else {
                const randomStock = stocks[Math.floor(Math.random() * stocks.length)];
                event.target = randomStock.code;
                affectedStocks = [randomStock];
            }
            affectedStocks.forEach(stock => {
                stock.price = Math.round(stock.price * (1 + event.effect));
            });
            displayNews(event.text.replace('{stock}', event.target).replace('{sector}', event.target));
            newsHappened = true;
        }
        stocks.forEach(stock => {
            const oldPrice = stock.price;
            let changePercent = (Math.random() - 0.5) * stock.volatility;
            if (stock.revenueTrend === 'up') changePercent += 0.01;
            if (stock.revenueTrend === 'down') changePercent -= 0.01;
            if (stock.peRatio === 'low') changePercent += 0.005;
            if (stock.peRatio === 'high') changePercent -= 0.005;
            const newPrice = Math.max(50, Math.round(oldPrice * (1 + changePercent)));
            stock.price = newPrice;
            const open = oldPrice;
            const close = newPrice;
            const high = Math.max(open, close) * (1 + Math.random() * (stock.volatility / 4));
            const low = Math.min(open, close) * (1 - Math.random() * (stock.volatility / 4));
            stock.history.push({
                x: `M${gameState.turn}`,
                y: [Math.round(open), Math.round(high), Math.round(low), Math.round(close)]
            });
            if (stock.history.length > 30) stock.history.shift();
        });
    }
    function buyStock() {
        if (!activeStockCode) { alert("Pilih saham terlebih dahulu!"); return; }
        const stock = stocks.find(s => s.code === activeStockCode);
        const lotAmount = parseInt(document.getElementById('trade-amount').value);
        if (lotAmount <= 0) { alert("Jumlah lot tidak valid."); return; }
        const shareAmount = lotAmount * 100;
        const cost = stock.price * shareAmount;
        if (gameState.cash >= cost) {
            gameState.cash -= cost;
            if (!gameState.portfolio[activeStockCode]) {
                gameState.portfolio[activeStockCode] = { shares: 0, avgPrice: 0 };
            }
            const existingData = gameState.portfolio[activeStockCode];
            const totalShares = existingData.shares + shareAmount;
            const totalCost = (existingData.avgPrice * existingData.shares) + cost;
            existingData.shares = totalShares;
            existingData.avgPrice = totalCost / totalShares;
            updateUI();
            alert(`Berhasil membeli ${lotAmount} lot saham ${stock.code}!`);
        } else {
            alert("Uang tunai tidak cukup!");
        }
    }
    function sellStock() {
        if (!activeStockCode) { alert("Pilih saham terlebih dahulu!"); return; }
        const stock = stocks.find(s => s.code === activeStockCode);
        const lotAmount = parseInt(document.getElementById('trade-amount').value);
        if (lotAmount <= 0) { alert("Jumlah lot tidak valid."); return; }
        const shareAmount = lotAmount * 100;
        if (gameState.portfolio[activeStockCode] && gameState.portfolio[activeStockCode].shares >= shareAmount) {
            const revenue = stock.price * shareAmount;
            gameState.cash += revenue;
            gameState.portfolio[activeStockCode].shares -= shareAmount;
            if (gameState.portfolio[activeStockCode].shares === 0) {
                delete gameState.portfolio[activeStockCode];
            }
            updateUI();
            alert(`Berhasil menjual ${lotAmount} lot saham ${stock.code}!`);
        } else {
            alert("Jumlah saham yang dimiliki tidak cukup!");
        }
    }

    // --- UI UPDATE & RENDERING (No changes here, functions are the same) ---
    function updateUI() {
        const portfolioValue = calculatePortfolioValue();
        const totalAssets = gameState.cash + portfolioValue;
        document.getElementById('cash-value').textContent = `Rp ${gameState.cash.toLocaleString('id-ID')}`;
        document.getElementById('portfolio-value').textContent = `Rp ${portfolioValue.toLocaleString('id-ID')}`;
        document.getElementById('total-assets').textContent = `Rp ${totalAssets.toLocaleString('id-ID')}`;
        document.getElementById('turn-counter').textContent = gameState.turn;
        const stockListEl = document.getElementById('stock-list');
        stockListEl.innerHTML = '';
        stocks.forEach(stock => {
            const ownedShares = gameState.portfolio[stock.code]?.shares || 0;
            const priceChange = stock.history.length > 1 ? stock.price - stock.history[stock.history.length - 2].y[3] : 0;
            const priceClass = priceChange >= 0 ? 'price-up' : 'price-down';
            const priceSign = priceChange >= 0 ? '+' : '';
            const stockEl = document.createElement('div');
            stockEl.className = `stock-item p-2 rounded-md cursor-pointer hover:bg-[#2A2D38] ${stock.code === activeStockCode ? 'active' : ''}`;
            stockEl.dataset.code = stock.code;
            stockEl.innerHTML = `
                <div class="flex justify-between items-center">
                    <div class="font-bold text-sm">${stock.code}</div>
                    <div class="font-semibold text-sm ${priceClass}">Rp ${stock.price.toLocaleString('id-ID')}</div>
                </div>
                <div class="flex justify-between items-center text-xs text-gray-400">
                    <div>${ownedShares > 0 ? `${(ownedShares/100).toLocaleString()} Lot` : stock.name}</div>
                    <div class="${priceClass}">${priceSign}${priceChange.toLocaleString('id-ID')}</div>
                </div>
            `;
            stockListEl.appendChild(stockEl);
        });
        if (activeStockCode) { updateChart(activeStockCode); }
    }
    function updateChart(stockCode) {
        const stock = stocks.find(s => s.code === stockCode);
        if (!stock) return;
        activeStockCode = stockCode;
        const priceChange = stock.history.length > 1 ? stock.price - stock.history[stock.history.length-2].y[3] : 0;
        const priceClass = priceChange >= 0 ? 'price-up' : 'price-down';
        document.getElementById('chart-stock-name').textContent = `${stock.name} (${stock.code})`;
        const priceEl = document.getElementById('chart-stock-price');
        priceEl.textContent = `Rp ${stock.price.toLocaleString('id-ID')}`;
        priceEl.className = `ml-4 text-lg font-semibold ${priceClass}`;
        chart.updateSeries([{ data: stock.history }]);
        document.querySelectorAll('.stock-item').forEach(el => {
            el.classList.toggle('active', el.dataset.code === stockCode);
        });
    }
    function calculatePortfolioValue() {
        let totalValue = 0;
        for (const code in gameState.portfolio) {
            const stock = stocks.find(s => s.code === code);
            if (stock) { totalValue += stock.price * gameState.portfolio[code].shares; }
        }
        return totalValue;
    }
    function displayNews(message) {
        const newsFeed = document.getElementById('news-feed');
        const newsItem = document.createElement('p');
        newsItem.textContent = `[M${gameState.turn}] ${message}`;
        newsFeed.prepend(newsItem);
        if (newsFeed.children.length > 10) { newsFeed.removeChild(newsFeed.lastChild); }
    }

    // --- MODAL & TUTORIAL LOGIC ---
    const infoModal = document.getElementById('info-modal');

    function openInfoModal() {
        infoModal.style.display = 'block';
    }
    function closeInfoModal() {
        infoModal.style.display = 'none';
    }

    const tutorialSteps = [
        { element: '#chart-panel', title: 'Grafik Saham', text: 'Ini adalah area utama. Di sini kamu bisa melihat pergerakan harga saham dalam bentuk candlestick. Candle hijau berarti harga naik, candle merah berarti harga turun.' },
        { element: '#stock-list-panel', title: 'Daftar Saham', text: 'Pilih saham yang ingin kamu analisis dari daftar ini. Kamu juga bisa melihat harga saat ini dan jumlah lot yang kamu miliki.' },
        { element: '#header-panel', title: 'Status Keuangan', text: 'Pantau kondisi keuanganmu di sini: Uang Tunai yang bisa dipakai, total nilai saham (portofolio), dan total asetmu.' },
        { element: '#news-panel', title: 'Berita Pasar', text: 'Perhatikan berita yang muncul di sini! Berita bisa sangat mempengaruhi harga saham, baik itu positif maupun negatif.' },
        { element: '#trade-controls-panel', title: 'Panel Kontrol', text: 'Gunakan panel ini untuk melakukan aksi. Masukkan jumlah lot, lalu tekan tombol BELI atau JUAL.' },
        { element: '#next-turn-button', title: 'Putaran Berikutnya', text: 'Setelah selesai melakukan transaksi, klik tombol ini untuk maju ke "minggu" berikutnya dan melihat pergerakan pasar yang baru.' },
    ];
    let currentTutorialStep = 0;

    function startTutorial() {
        document.getElementById('tutorial-overlay').style.display = 'block';
        showTutorialStep(0);
    }

    function showTutorialStep(stepIndex) {
        if (stepIndex < 0 || stepIndex >= tutorialSteps.length) {
            endTutorial();
            return;
        }
        currentTutorialStep = stepIndex;
        const step = tutorialSteps[stepIndex];
        const targetElement = document.querySelector(step.element);
        const highlight = document.getElementById('tutorial-highlight');
        const tooltip = document.getElementById('tutorial-tooltip');

        const rect = targetElement.getBoundingClientRect();
        highlight.style.width = `${rect.width + 10}px`;
        highlight.style.height = `${rect.height + 10}px`;
        highlight.style.top = `${rect.top - 5}px`;
        highlight.style.left = `${rect.left - 5}px`;

        tooltip.style.top = `${rect.bottom + 15}px`;
        tooltip.style.left = `${rect.left}px`;
        
        if (rect.left + tooltip.offsetWidth > window.innerWidth) {
            tooltip.style.left = `${rect.right - tooltip.offsetWidth}px`;
        }
        if (rect.bottom + tooltip.offsetHeight > window.innerHeight) {
            tooltip.style.top = `${rect.top - tooltip.offsetHeight - 15}px`;
        }

        document.getElementById('tutorial-title').textContent = step.title;
        document.getElementById('tutorial-text').textContent = step.text;
        
        document.getElementById('tutorial-prev').style.visibility = (stepIndex === 0) ? 'hidden' : 'visible';
        document.getElementById('tutorial-next').textContent = (stepIndex === tutorialSteps.length - 1) ? 'Selesai' : 'Lanjut Â»';
    }

    function endTutorial() {
        document.getElementById('tutorial-overlay').style.display = 'none';
        localStorage.setItem('expertTutorialCompleted', 'true');
    }

    // --- EVENT LISTENERS ---
    document.getElementById('help-button').addEventListener('click', openInfoModal);
    document.getElementById('close-modal-button').addEventListener('click', closeInfoModal);
    document.getElementById('start-tour-button').addEventListener('click', () => {
        closeInfoModal();
        startTutorial();
    });

    document.getElementById('tutorial-next').addEventListener('click', () => showTutorialStep(currentTutorialStep + 1));
    document.getElementById('tutorial-prev').addEventListener('click', () => showTutorialStep(currentTutorialStep - 1));
    document.getElementById('tutorial-skip').addEventListener('click', endTutorial);

    document.getElementById('stock-list').addEventListener('click', (e) => {
        const stockItem = e.target.closest('.stock-item');
        if (stockItem) {
            const stockCode = stockItem.dataset.code;
            updateChart(stockCode);
        }
    });
    document.getElementById('buy-button').addEventListener('click', buyStock);
    document.getElementById('sell-button').addEventListener('click', sellStock);
    document.getElementById('next-turn-button').addEventListener('click', () => {
        gameState.turn++;
        updateMarket();
        updateUI();
    });

    // --- INITIALIZE GAME ---
    function initializeGame() {
        for (let i = 0; i < 10; i++) {
            gameState.turn++;
            updateMarket();
        }
        gameState.turn = 10;
        
        activeStockCode = stocks[0].code;
        updateUI();

        if (localStorage.getItem('expertTutorialCompleted') !== 'true') {
            setTimeout(openInfoModal, 500);
        }
    }

    window.onload = initializeGame;

    </script>
</body>
</html>
